packaging_format = 2

id = "delegacje"
name = "Delegacje SaaS"
description.en = "Professional business trip expense management system for contractors"
description.pl = "Profesjonalny system zarzadzania delegacjami dla kontraktow"

version = "1.0~ynh1"

maintainers = ["your-username"]

[upstream]
license = "MIT"
admindoc = "https://github.com/your-org/delegacje/wiki"

[integration]
yunohost = ">= 11.2"
helpers_version = "2"
architectures = "all"
multi_instance = false
ldap = false
sso = false
disk = "500M"
ram.build = "512M"
ram.runtime = "256M"

[install]
    [install.domain]
    type = "domain"

    [install.path]
    type = "path"
    default = "/"

    [install.init_main_permission]
    type = "group"
    default = "visitors"

    [install.admin]
    type = "user"

    [install.admin_email]
    ask.en = "Admin email address"
    type = "email"

    [install.admin_password]
    ask.en = "Admin password (min 8 chars, must have uppercase and number)"
    type = "password"

    [install.ai_provider]
    ask.en = "AI Provider for receipt OCR (none/gemini/openai)"
    type = "select"
    choices = ["none", "gemini", "openai"]
    default = "none"

    [install.gemini_api_key]
    ask.en = "Gemini API Key (leave empty if not using Gemini)"
    type = "string"
    optional = true

[resources]
    [resources.system_user]

    [resources.install_dir]
    dir = "/var/www/__APP__"
    owner = "__APP__:rwx"
    group = "__APP__:rx"

    [resources.data_dir]
    dir = "/home/yunohost.app/__APP__"
    owner = "__APP__:rwx"
    group = "__APP__:rx"
    subdirs = ["uploads", "logs"]

    [resources.permissions]
    main.url = "/"
    main.auth_header = false

    [resources.ports]
    backend.default = 3001
    frontend.default = 3000

    [resources.apt]
    packages = "nodejs, npm, postgresql, tesseract-ocr, tesseract-ocr-pol, tesseract-ocr-eng, tesseract-ocr-deu"
